# bpmonlinesnippets
bpm'online sublime text snippets

## Entity schema queries
### select
```
var selectContact = Ext.create("Terrasoft.EntitySchemaQuery", {
	rootSchemaName: "Contact"
});
selectContact.addMacrosColumn(Terrasoft.QueryMacrosType.PRIMARY_COLUMN, "Id");
selectContact.addMacrosColumn(Terrasoft.QueryMacrosType.PRIMARY_DISPLAY_COLUMN, "Name");
selectContact.getEntityCollection(function(response) {
	if (response.success === true) {
		
	}
}, this);
```
### update
```
var updateContact = Ext.create("Terrasoft.UpdateQuery", {
	rootSchemaName: "Contact"
});
// TODO Add filters here
updateContact.setParameterValue("Column", "NewValue", Terrasoft.DataValueType.TEXT);
updateContact.execute(function(response) {
	if (response.success === true) {
		
	}
}, this);
```
### delete
```
var deleteContact = Ext.create("Terrasoft.DeleteQuery", {
	rootSchemaName: "Contact"
});
// TODO Add filters here
deleteContact.execute(function (result) {
	if (result.success) {
		
	}
}, this);
```
### filter
```
esq.filters.add(esq.createColumnFilterWithParameter(
	Terrasoft.ComparisonType.EQUAL,
	"Column",
	Value));
```
## Viewmodel helpers
### viewmodel
```
define("ViewModel", ["ViewModelResources"],
	function(resources) {
		/**
		 * @class Terrasoft.model.ViewModel
		 * Model element for the autogenerated page user task.
		 */
		Ext.define("Terrasoft.model.ViewModel", {
			extend: "Terrasoft.BaseModel",
			alternateClassName: "Terrasoft.ViewModel",

			Ext: null,

			Terrasoft: null,

			mixins: {},

			columns: {},

			//region Methods: Protected

			//endregion
		});
		return Terrasoft.ViewModel;
	});
```
### set
```
this.set("Attribute", Value);
```
### get
```
this.get("Attribute");
```
## Test helpers
### testmethod
```
test.diag("someFunction");

test.testMethod({
	name: "someFunction - if called",
	setup: function() {
	},
	method: function() {
		var testName = this.name;
		var testData = test.data;
		//place some test code here
		test.testMethodDone();
	},
	tearDown: function() {
	},
});
```
